# BlacklistManager 插件

一个用于 Hyper 框架的 QQ 群聊黑名单管理插件。

## 功能特点

- 灵活的黑名单管理系统
- 支持多管理员配置
- 完整的权限控制
- 详细的用户信息显示
- 持久化数据存储

## 安装

1. 将插件文件放置在 Hyper 插件目录中
2. 确保配置文件目录有写入权限
3. 重启 Hyper 框架

## 配置文件示例

### blacklist_data.json
```json
{
  "123456789": {
    "reason": "恶意刷屏",
    "add_time": "2025-02-14 12:30:45",
    "operator": "987654321"
  }
}
```

### xiaoyi_admins.json
```json
{
  "admins": ["2477194503", "987654321"],
  "enabled": true,
  "system_enabled": true
}
```

## 命令列表

### 普通命令
```
!bl status - 查看系统状态
!bl help   - 显示帮助信息
```

### 管理员命令
```
!bl add <QQ号> <原因> - 添加黑名单
!bl remove <QQ号>     - 移除黑名单
!bl addadmin <QQ号>   - 添加管理员
!bl removeadmin <QQ号> - 移除管理员
!bl toggle           - 开关系统
```

## 使用示例

### 添加黑名单用户
```
!bl add 123456789 恶意刷屏
```

### 查看系统状态
```
!bl status
```

### 添加管理员
```
!bl addadmin 987654321
```

## 黑名单提示

当黑名单用户发言时，会显示如下提示：

```
⚠️警告：此用户在黑名单中
用户：用户名 (QQ号)
原因：[违规原因]
添加时间：YYYY-MM-DD HH:MM:SS
操作者：管理员名 (管理员QQ)
```

## 依赖

- Python 3.6+
- Hyper 框架

## 关于

- 作者：Xiaoyi
- 版本：1.0.0
- 许可证：保留所有权利

## 注意事项

1. 请确保修改默认管理员QQ号
2. 建议定期备份配置文件
3. 管理员权限请谨慎授予

## 常见问题

1. 配置文件无法创建？
   - 检查目录权限
   - 确保路径合法

2. 命令无响应？
   - 确认是否为管理员
   - 检查系统是否启用
   - 验证命令格式

3. 黑名单提示未显示？
   - 检查机器人权限
   - 确认系统状态

## 更新日志

### v1.0.0
- 初始版本发布
- 基础黑名单功能
- 管理员系统
- 命令系统

## 贡献

欢迎提交 Issue 和 Pull Request。